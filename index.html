<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>导航首页</title>
  <!-- 引入外部资源 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- Tailwind 配置 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFFB',
            dark: '#1E293B',
            light: '#F8FAFC'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      },
      darkMode: 'class'
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-hover {
        @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
      }
      .text-balance {
        text-wrap: balance;
      }
      .bg-gradient-custom {
        @apply bg-gradient-to-br from-primary/90 to-secondary/90;
      }
    }
  </style>
  
  <style>
    /* 基础动画定义 */
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* 滚动条美化 */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #a1a1a1;
    }
    
    /* 深色模式滚动条 */
    .dark ::-webkit-scrollbar-track {
      background: #2d3748;
    }
    
    .dark ::-webkit-scrollbar-thumb {
      background: #4a5568;
    }
    
    .dark ::-webkit-scrollbar-thumb:hover {
      background: #718096;
    }
  </style>
</head>

<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors duration-300 min-h-screen font-inter">
  <!-- 顶部导航栏 -->
  <header class="sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm transition-all duration-300">
    <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between gap-4">
      <!-- 品牌标识 -->
      <div class="flex items-center gap-2">
        <div class="bg-gradient-custom text-white p-2 rounded-lg">
          <i class="fa fa-compass text-xl"></i>
        </div>
        <h1 class="text-xl md:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary">导航首页</h1>
      </div>
      
      <!-- 搜索框 -->
      <div class="relative w-full md:w-96">
        <input 
          type="text" 
          id="search-input"
          placeholder="搜索网站..." 
          class="w-full pl-10 pr-4 py-2 rounded-full bg-gray-100 dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all"
        >
        <i class="fa fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
      </div>
      
      <!-- 功能按钮区 -->
      <div class="flex items-center gap-3">
        <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
          <i class="fa fa-moon-o dark:hidden"></i>
          <i class="fa fa-sun-o hidden dark:inline-block"></i>
        </button>
        <button id="settings-btn" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
          <i class="fa fa-cog"></i>
        </button>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 py-6">
    <!-- 分类筛选 -->
    <div class="mb-8 overflow-x-auto pb-2">
      <div class="flex gap-2 min-w-max">
        <button class="category-btn active px-4 py-2 rounded-full bg-primary text-white" data-category="all">
          全部
        </button>
        <!-- 分类按钮将通过JS动态生成 -->
      </div>
    </div>
    
    <!-- 网站导航网格 -->
    <div id="sites-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
      <!-- 网站卡片将通过JS动态生成 -->
    </div>
    
    <!-- 空状态提示 -->
    <div id="empty-state" class="hidden flex flex-col items-center justify-center py-16 text-center">
      <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-full mb-4">
        <i class="fa fa-search text-2xl text-gray-400"></i>
      </div>
      <h3 class="text-lg font-medium mb-2">未找到匹配的网站</h3>
      <p class="text-gray-500 dark:text-gray-400 max-w-md">尝试使用不同的搜索词或浏览所有分类</p>
    </div>
  </main>

  <!-- 页脚 -->
  <footer class="mt-auto py-6 border-t border-gray-200 dark:border-gray-800">
    <div class="container mx-auto px-4 text-center text-gray-500 dark:text-gray-400 text-sm">
      <p>© 2025 邻诗导航</p>
    </div>
  </footer>

  <script>
    // 网站数据配置 - 可根据需要修改或扩展
    // 新增了icon字段，用于配置每个网站的图标，使用Font Awesome的图标类名
    const sitesData = [
      {
        name: "邻诗测算",
        url: "https://linpoem.online",
        category: "娱乐",
        icon: "fa-calculator"  // 使用Font Awesome的计算器图标
      },
      {
        name: "邻诗Tv",
        url: "https://linpoem.pages.dev",
        category: "娱乐",
        icon: "fa-television"  // 使用Font Awesome的电视图标
      },
      {
        name: "邻诗游戏",
        url: "https://playgame-12j.pages.dev/",
        category: "娱乐",
        icon: "fa-game"  // 使用Font Awesome的书籍图标
      },
      {
        name: "万盒工具",
        url: "https://htmltools-6b8.pages.dev",
        category: "工具",
        icon: "fa-axe"  // 使用Font Awesome的书籍图标
      },
      {
        name: "m3u8",
        url: "https://m3u8-1n7.pages.dev",
        category: "工具",
        icon: "fa-axe"  // 使用Font Awesome的书籍图标
      },
      {
        name: "邻诗AI中医",
        url: "https://zy.linpoem.online",
        category: "工具",
        icon: "fa-axe"  // 使用Font Awesome的书籍图标
      },
      {
        name: "粤语歌曲",
        url: "https://musicplayer-3p0.pages.dev/",
        category: "娱乐",
        icon: "fa-music"  // 使用Font Awesome的书籍图标
      }
    ];

    // DOM 元素
    const sitesContainer = document.getElementById('sites-container');
    const searchInput = document.getElementById('search-input');
    const categoryContainer = document.querySelector('.flex.gap-2.min-w-max');
    const emptyState = document.getElementById('empty-state');
    const themeToggle = document.getElementById('theme-toggle');

    // 获取所有唯一分类
    const categories = ['all', ...new Set(sitesData.map(site => site.category))];

    // 初始化页面
    function init() {
      renderCategories();
      renderSites(sitesData);
      setupEventListeners();
      checkDarkModePreference();
    }

    // 渲染分类按钮
    function renderCategories() {
      // 已经有"全部"按钮，从索引1开始
      for (let i = 1; i < categories.length; i++) {
        const category = categories[i];
        const button = document.createElement('button');
        button.className = 'category-btn px-4 py-2 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors';
        button.dataset.category = category;
        button.textContent = category;
        categoryContainer.appendChild(button);
      }
    }

    // 渲染网站卡片
    function renderSites(sites) {
      sitesContainer.innerHTML = '';
      
      if (sites.length === 0) {
        emptyState.classList.remove('hidden');
        return;
      }
      
      emptyState.classList.add('hidden');
      
      sites.forEach(site => {
        const card = document.createElement('a');
        card.href = site.url;
        card.target = '_blank';
        card.className = 'bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md p-4 flex flex-col items-center justify-center text-center transition-all duration-300 transform hover:-translate-y-1 fade-in';
        
        // 获取域名用于显示
        const url = new URL(site.url);
        const domain = url.hostname;
        
        // 卡片内容 - 使用自定义图标
        card.innerHTML = `
          <div class="w-12 h-12 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 dark:from-primary/30 dark:to-secondary/30 flex items-center justify-center mb-3">
            <i class="fa ${site.icon} text-xl text-primary"></i>
          </div>
          <h3 class="font-medium text-sm truncate w-full">${site.name}</h3>
          <p class="text-xs text-gray-500 dark:text-gray-400 truncate w-full mt-1">${domain}</p>
        `;
        
        sitesContainer.appendChild(card);
      });
    }

    // 过滤网站
    function filterSites(category = 'all', searchTerm = '') {
      let filtered = sitesData;
      
      // 按分类过滤
      if (category !== 'all') {
        filtered = filtered.filter(site => site.category === category);
      }
      
      // 按搜索词过滤
      if (searchTerm) {
        const term = searchTerm.toLowerCase();
        filtered = filtered.filter(site => 
          site.name.toLowerCase().includes(term) || 
          site.url.toLowerCase().includes(term) ||
          site.category.toLowerCase().includes(term)
        );
      }
      
      renderSites(filtered);
    }

    // 设置事件监听器
    function setupEventListeners() {
      // 分类筛选
      document.querySelectorAll('.category-btn').forEach(button => {
        button.addEventListener('click', (e) => {
          // 更新活跃状态
          document.querySelectorAll('.category-btn').forEach(btn => {
            btn.classList.remove('active', 'bg-primary', 'text-white');
            btn.classList.add('bg-gray-100', 'dark:bg-gray-800');
          });
          
          e.target.classList.add('active', 'bg-primary', 'text-white');
          e.target.classList.remove('bg-gray-100', 'dark:bg-gray-800');
          
          const category = e.target.dataset.category;
          const searchTerm = searchInput.value.trim();
          filterSites(category, searchTerm);
        });
      });
      
      // 搜索功能
      searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.trim();
        const activeCategory = document.querySelector('.category-btn.active').dataset.category;
        filterSites(activeCategory, searchTerm);
      });
      
      // 深色模式切换
      themeToggle.addEventListener('click', toggleDarkMode);
      
      // 滚动时改变头部样式
      window.addEventListener('scroll', () => {
        const header = document.querySelector('header');
        if (window.scrollY > 10) {
          header.classList.add('py-2');
          header.classList.remove('py-4');
        } else {
          header.classList.add('py-4');
          header.classList.remove('py-2');
        }
      });
    }

    // 检查深色模式偏好
    function checkDarkModePreference() {
      if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    }

    // 切换深色模式
    function toggleDarkMode() {
      if (document.documentElement.classList.contains('dark')) {
        document.documentElement.classList.remove('dark');
        localStorage.theme = 'light';
      } else {
        document.documentElement.classList.add('dark');
        localStorage.theme = 'dark';
      }
    }

    // 初始化
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
